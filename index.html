<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PWA iOS SW POC</title>

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- iOS meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

</head>
<body>
  <h1>PWA - Service Worker & Manifest POC</h1>
  <p id="status">Checking Service Worker...</p>
  <p id="sync">Checking Sync Manager...</p>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(reg => {
          document.getElementById('status').innerText =
            'Service Worker registered';
          console.log('SW registered:', reg);
        })
        .catch(err => {
          document.getElementById('status').innerText =
            'Service Worker failed';
          console.error(err);
        });
    } else {
      document.getElementById('status').innerText =
        'Service Workers not supported';
    }

    if ('serviceWorker' in navigator && 'SyncManager' in window) {
      document.getElementById('status').innerText =
            'Background Sync Working';
    } else {
      document.getElementById('status').innerText =
            'Background Sync Not Working';
    }
  </script>
</body>
</html>
